import org.apache.tools.ant.filters.*

plugins {
    id 'net.nemerosa.versioning' version '2.15.1'
}

dependencies {
    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api
    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.36'

    // https://mvnrepository.com/artifact/org.slf4j/slf4j-simple
    implementation(group: 'org.slf4j', name: 'slf4j-simple', version: '2.0.6')

    // https://mvnrepository.com/artifact/org.jctools/jctools-core
    implementation(group: 'org.jctools', name: 'jctools-core', version: '4.0.1')

    // https://mvnrepository.com/artifact/org.ow2.asm/asm
    implementation(group: 'org.ow2.asm', name: 'asm', version: "${rootProject.asmVersion}")
    implementation(group: 'org.ow2.asm', name: 'asm-util', version: "${rootProject.asmVersion}")
}

compileJava {
    sourceCompatibility = 8
    targetCompatibility = 8
    options.fork = true
    options.forkOptions.executable = "${project.property("JAVA_11_HOME")}/bin/javac"
}

processResources {
    filter ReplaceTokens, tokens: [
        "btrace.version": project.version,
        "hash"          : versioning.info.commit
    ]
}
